-- ===================================
-- 2026년 근로소득 간이세액표 업데이트
-- (2024년 간이세액표 기준, 2026년 예상값)
-- ===================================

-- 기존 데이터 삭제
DELETE FROM income_tax_brackets_2026;

-- 부양가족 1인 기준 (본인만)
INSERT INTO income_tax_brackets_2026 (dependent_count, income_from, income_to, tax_amount) VALUES
  (1, 0, 1060000, 0),
  (1, 1060000, 1500000, 6000),
  (1, 1500000, 2800000, 36000),
  (1, 2800000, 3600000, 126000),
  (1, 3600000, 4600000, 252000),
  (1, 4600000, 5600000, 390000),
  (1, 5600000, 6600000, 540000),
  (1, 6600000, 7600000, 706000),
  (1, 7600000, 8600000, 884000),
  (1, 8600000, 9600000, 1076000),
  (1, 9600000, 10600000, 1280000),
  (1, 10600000, 11600000, 1496000),
  (1, 11600000, 12600000, 1724000),
  (1, 12600000, 14000000, 1964000),
  (1, 14000000, 16000000, 2444000),
  (1, 16000000, 20000000, 3064000),
  (1, 20000000, NULL, 4544000);

-- 부양가족 2인
INSERT INTO income_tax_brackets_2026 (dependent_count, income_from, income_to, tax_amount) VALUES
  (2, 0, 1500000, 0),
  (2, 1500000, 2800000, 14000),
  (2, 2800000, 3600000, 104000),
  (2, 3600000, 4600000, 230000),
  (2, 4600000, 5600000, 368000),
  (2, 5600000, 6600000, 518000),
  (2, 6600000, 7600000, 684000),
  (2, 7600000, 8600000, 862000),
  (2, 8600000, 9600000, 1054000),
  (2, 9600000, 10600000, 1258000),
  (2, 10600000, 11600000, 1474000),
  (2, 11600000, 12600000, 1702000),
  (2, 12600000, 14000000, 1942000),
  (2, 14000000, 16000000, 2422000),
  (2, 16000000, 20000000, 3042000),
  (2, 20000000, NULL, 4522000);

-- 부양가족 3인
INSERT INTO income_tax_brackets_2026 (dependent_count, income_from, income_to, tax_amount) VALUES
  (3, 0, 2800000, 0),
  (3, 2800000, 3600000, 82000),
  (3, 3600000, 4600000, 208000),
  (3, 4600000, 5600000, 346000),
  (3, 5600000, 6600000, 496000),
  (3, 6600000, 7600000, 662000),
  (3, 7600000, 8600000, 840000),
  (3, 8600000, 9600000, 1032000),
  (3, 9600000, 10600000, 1236000),
  (3, 10600000, 11600000, 1452000),
  (3, 11600000, 12600000, 1680000),
  (3, 12600000, 14000000, 1920000),
  (3, 14000000, 16000000, 2400000),
  (3, 16000000, 20000000, 3020000),
  (3, 20000000, NULL, 4500000);

-- 부양가족 4인
INSERT INTO income_tax_brackets_2026 (dependent_count, income_from, income_to, tax_amount) VALUES
  (4, 0, 3600000, 0),
  (4, 3600000, 4600000, 186000),
  (4, 4600000, 5600000, 324000),
  (4, 5600000, 6600000, 474000),
  (4, 6600000, 7600000, 640000),
  (4, 7600000, 8600000, 818000),
  (4, 8600000, 9600000, 1010000),
  (4, 9600000, 10600000, 1214000),
  (4, 10600000, 11600000, 1430000),
  (4, 11600000, 12600000, 1658000),
  (4, 12600000, 14000000, 1898000),
  (4, 14000000, 16000000, 2378000),
  (4, 16000000, 20000000, 2998000),
  (4, 20000000, NULL, 4478000);

-- 부양가족 5인
INSERT INTO income_tax_brackets_2026 (dependent_count, income_from, income_to, tax_amount) VALUES
  (5, 0, 4600000, 0),
  (5, 4600000, 5600000, 302000),
  (5, 5600000, 6600000, 452000),
  (5, 6600000, 7600000, 618000),
  (5, 7600000, 8600000, 796000),
  (5, 8600000, 9600000, 988000),
  (5, 9600000, 10600000, 1192000),
  (5, 10600000, 11600000, 1408000),
  (5, 11600000, 12600000, 1636000),
  (5, 12600000, 14000000, 1876000),
  (5, 14000000, 16000000, 2356000),
  (5, 16000000, 20000000, 2976000),
  (5, 20000000, NULL, 4456000);

-- 확인
SELECT 
  '간이세액표 업데이트 완료' AS 상태,
  COUNT(*) AS 총_행수,
  COUNT(DISTINCT dependent_count) AS 부양가족_구간수
FROM income_tax_brackets_2026;

-- 테스트: 과세소득 9,230,000원, 부양가족 1인
SELECT 
  '부양가족 1인, 과세소득 9,230,000원' AS 테스트,
  calculate_income_tax_2026(9230000, 1) AS 소득세,
  ROUND(calculate_income_tax_2026(9230000, 1) * 0.1) AS 지방소득세;

-- 예상 결과: 소득세 약 1,076,000원 ~ 1,280,000원
